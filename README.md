# OpenPCK
OpenPCKはC言語学習のためのeラーニングシステムです。
サーバ上でコンパイル・実行を行いあらかじめ登録しておいた実行結果と照合を行い正解判定を行います。
※このシステムは校内などのLAN内に設置して使うことを想定しています。インターネット上でのサービス公開は考慮されていません。

## 動作環境
 * Apache 2.2以降
 * PHP5.6以降
 * gcc4.X以上
 
## インストール
 1. zipファイルをダウンロードし、サーバ上に展開します。
 2. wwwディレクトリが公開ディレクトリになるようにwebサーバの設定を行います。
   例：「http://example.jp/openpck/」となるように設定する場合
       httpd.conf
       `Alias /openpck /path/to/OpenPCK/www`   
 3. 「lib/config_sample.php」をコピーし「lib/config.php」とします。
 4. 「userdata」ディレクトリにwebサーバの書き込み権限の設定をします。
 5. 「userdata/passwd.txt」をエディタで開き「ユーザ名 パスワード」となるようにユーザを追加します。

## 問題の作成方法
### 問題の構成
 問題は「コース」ごとに作成します。１つのコースには複数の問題を設定することができます。
 コース数・問題数の上限はそれぞれ99となります。
### コースの作成
 1. 新しいコースを作成するには「tests」ディレクトリ配下に「00_コース名」という名前のディレクトリを作成します。先頭の2桁の数値は他のコース番号と重複しないように設定してください。

### 問題の作成
 1. 問題を作成するには上記で設定したいずれかのコースディレクトリ内に「00_問題タイトル」という名前のディレクトリを作成します。コース内で問題番号が重複しないようにご注意ください。
 2. 作成したディレクトリ内に「mondai.txt」というファイルを作成し、問題文を作成します。txt形式以外に「mondai.html」や「mondai.pdf」として作成することもできます。
 3. 実行時にプログラムに渡す引数を設定します。例えば２つの値を加算するプログラムの問題を作成する場合、実行時に２つの値を渡す必要がありますので、その値を「param01.txt」という名前で作成します。ファイルの中身はスペース区切りで指定しします。引数がない場合であっても空のファイルを作成する必要があります。
 4. 実行結果の正解を登録します。「answer01.txt」という名前でテキストファイルを作成します。
 5. 複数のパラメータでテストする場合は上記の２つのファイルをそれぞれ「param02.txt」「answer02.txt」のように連番を変更することで作成します。全ての実行結果と一致した場合正解と判定されます。
 
